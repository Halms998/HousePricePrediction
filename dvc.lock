schema: '2.0'
stages:
  prepare:
    cmd: python src/prepare.py --out_dir data
    deps:
    - path: params.yaml
      hash: md5
      md5: 8e1a11421f602a64c0e7e0ea6598234c
      size: 466
    - path: src/prepare.py
      hash: md5
      md5: e339606c34a85dc30935e7e7635852bb
      size: 1563
    params:
      params.yaml:
        data:
          dataset_path: data/pakistan_house_price.csv
          target: price
        prepare.random_seed: 42
    outs:
    - path: data/house_data.csv
      hash: md5
      md5: 36fa7f0c25b73a3a74d897a84d298fb6
      size: 48940555
  features:
    cmd: python src/features.py --in_csv data/house_data.csv --out_dir data 
      --test_size 0.2 --random_state 42
    deps:
    - path: data/house_data.csv
      hash: md5
      md5: 36fa7f0c25b73a3a74d897a84d298fb6
      size: 48940555
    - path: src/features.py
      hash: md5
      md5: 1e872e1f5076321a16752837b075bf8b
      size: 2867
    params:
      params.yaml:
        features.categorical_features:
        - property_type
        - city
        - province_name
        - Area Category
        features.numeric_features:
        - baths
        - bedrooms
        - latitude
        - longitude
        - Area Size
        features.random_state: 42
        features.test_size: 0.2
    outs:
    - path: data/X_test.npy
      hash: md5
      md5: a6622a56a303ba9567b17502ffde4a47
      size: 10401272
    - path: data/X_train.npy
      hash: md5
      md5: ba05f0a04affc36cc35249fdc51c4bac
      size: 41604080
    - path: data/feature_names.txt
      hash: md5
      md5: 3d97930347f84f59736a8d313e4f258e
      size: 100
    - path: data/preprocessor.pkl
      hash: md5
      md5: 53b35fe73f60337f6f855a8236beb87a
      size: 4075
    - path: data/y_test.npy
      hash: md5
      md5: d17ec6c7aeea698366d8e86f6c88926c
      size: 266824
    - path: data/y_train.npy
      hash: md5
      md5: 73cabb5aa0d6882d2e670d247388cd63
      size: 1066896
  train:
    cmd: python src/train.py --data_dir data --model_out model.pkl
    deps:
    - path: data/X_train.npy
      hash: md5
      md5: ba05f0a04affc36cc35249fdc51c4bac
      size: 41604080
    - path: data/y_train.npy
      hash: md5
      md5: 73cabb5aa0d6882d2e670d247388cd63
      size: 1066896
    - path: src/train.py
      hash: md5
      md5: 86e07713136a1004cfce6054dc96d256
      size: 1697
    params:
      params.yaml:
        train.max_depth: 10
        train.model_type: random_forest
        train.n_estimators: 100
        train.random_state: 42
    outs:
    - path: model.pkl
      hash: md5
      md5: cb65f08f87c14b5a3410aaf1d9b39172
      size: 11496337
  evaluate:
    cmd: python src/evaluate.py --data_dir data --model model.pkl --out 
      metrics/eval.json
    deps:
    - path: data/X_test.npy
      hash: md5
      md5: a6622a56a303ba9567b17502ffde4a47
      size: 10401272
    - path: data/y_test.npy
      hash: md5
      md5: d17ec6c7aeea698366d8e86f6c88926c
      size: 266824
    - path: model.pkl
      hash: md5
      md5: cb65f08f87c14b5a3410aaf1d9b39172
      size: 11496337
    - path: src/evaluate.py
      hash: md5
      md5: f8b28b80e8dbf854dc62b73d9c6cd0d1
      size: 1268
    params:
      params.yaml:
        evaluate.metrics:
        - mse
        - mae
        - r2
    outs:
    - path: metrics/eval.json
      hash: md5
      md5: 84ddc3222079ce0b702de44d22a497d7
      size: 122
